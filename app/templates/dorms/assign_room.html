{% extends 'base.html' %}

{% block content %}
  <h1>Assign Room</h1>
  <form method="post">
    <!-- CSRF Protection -->
    <input type="hidden" name="csrf_token" value="{{ form.csrf_token._value() }}">

    <p>Dorm: {{ dorm.dorm_name }}</p>
    <p>Room: {{ room.room_number }}</p>

    <!-- Add multiple student select boxes -->
    {% if room %}
      {% for i in range(room.capacity) %}
      <label for="student{{ i }}">Student {{ i + 1 }}:</label>
      <select id="student{{ i }}" name="student">
          {% for student in students %}
          <option value="{{ student.student_id }}">{{ student.student_fname }} {{ student.student_lname }} ({{ student.level.level_abbrev }})</option>
          {% endfor %}
      </select>
      {% endfor %}
    {% endif %}

    <input type="submit" value="Assign Room">
  </form>
{% endblock %}
